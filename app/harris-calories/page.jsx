"use client";

import { useEffect, useReducer, useState } from "react";

import HeaderModal from "../components/NewModal";
import TopForm from "../components/TopForm";
import Contents from "../components/Contents";
import Footer from "../components/Footer";

import Input from "../components/Input";

import CalorieForm from "./CalorieForm";
import "./calorie.css";

const initial = {
  formula: "harrisBenedict", // Изменено с "mifflinStJeor" на "harrisBenedict"
  age: null,
  height: null,
  weight: null,
  gender: "male",
  activity: "sedentary",
  goal: "loss",
};

function reducer(state, action) {
  switch (action.type) {
    case "formula":
      return { ...state, formula: String(action.payload) };
    case "age":
      return { ...state, age: Number(action.payload) };
    case "height":
      return { ...state, height: Number(action.payload) };
    case "weight":
      return { ...state, weight: Number(action.payload) };
    case "gender":
      return { ...state, gender: action.payload };
    case "activity":
      return { ...state, activity: action.payload };
    case "goal":
      return { ...state, goal: String(action.payload) };
  }
}
function Compound() {
  const [state, dispatch] = useReducer(reducer, initial);
  const obj = { ...state };
  function hadleInput(e, typeDispatch) {
    dispatch({ type: typeDispatch, payload: e.target.value });
  }

  return (
    <>
      <HeaderModal />

      <TopForm
        title={"Калькулятор калорий"}
        description={
          "Определите суточную норму калорий по формуле Харриса-Бенедикта. Введите рост, вес, возраст и уровень активности — и получите точное значение энергозатрат."
        }
        span={" по формуле Харриса-Бенедикта"}
      >
        <CalorieForm
          obj={obj}
          url={"https://boxcalculators.ru/api/calculate/calorie"}
        >
          <div className="label-row">
            <div className="row-vans-bottom">
              <label className="label-top">
                <span>Формула оценки BMR</span>

                <select
                  onChange={(e) =>
                    dispatch({
                      type: "formula",
                      payload: String(e.target.value),
                    })
                  }
                  value={state.formula} // Добавлено для контроля выбранного значения
                >
                  <option value="mifflinStJeor">Миффлина-Сан Жеора</option>
                  <option value="harrisBenedict">Харриса-Бенедикта</option>
                  <option value="sMifflinStJeor">
                    Упрощенный Миффлина-Сан Жеора
                  </option>
                  <option value="oHarrisBenedict">
                    Харриса-Бенедикта (Оригинальная)
                  </option>
                </select>
              </label>

              <div className="topInput-select">
                <Input
                  labelTitle={"Возраст"}
                  notation={"лет"}
                  typeDispatch={"age"}
                  hadleInput={hadleInput}
                  type={"number"}
                />
                <Input
                  labelTitle={"Рост"}
                  notation={"см"}
                  typeDispatch={"height"}
                  hadleInput={hadleInput}
                  type={"number"}
                />
              </div>
              <div className="topInput-selects">
                <Input
                  labelTitle={"Вес"}
                  notation={"кг"}
                  typeDispatch={"weight"}
                  hadleInput={hadleInput}
                  type={"number"}
                />
                <label className="label-tops">
                  <span>Пол</span>
                  <select
                    onChange={(e) =>
                      dispatch({
                        type: "gender",
                        payload: String(e.target.value),
                      })
                    }
                  >
                    <option value="male">Мужской</option>
                    <option value="female">Женский</option>
                  </select>
                </label>
              </div>
              <div className="input-bottom">
                <label>
                  <span>Дневная активность</span>
                  <select
                    onChange={(e) =>
                      dispatch({
                        type: "activity",
                        payload: String(e.target.value),
                      })
                    }
                  >
                    <option value="sedentary">Минимальная активность</option>
                    <option value="lightly">Слабый уровень активности</option>
                    <option value="moderately">
                      Умеренный уровень активности
                    </option>
                    <option value="active">Активный уровень активности</option>
                    <option value="veryActive">
                      Тяжелая или трудоемкая активность
                    </option>
                    <option value="extraActive">
                      Экстремальная активность
                    </option>
                    <option value="basal">
                      Уровень базального метаболизма
                    </option>
                  </select>
                </label>
                <label>
                  <span>Цель</span>
                  <select
                    onChange={(e) =>
                      dispatch({
                        type: "goal",
                        payload: String(e.target.value),
                      })
                    }
                  >
                    <option value="loss">Сбросить вес</option>
                    <option value="maintenance">Поддержать вес</option>
                    <option value="gain">Набрать вес</option>
                  </select>
                </label>
              </div>
            </div>
          </div>
        </CalorieForm>

        <Contents>
          <h2>Как рассчитать суточную норму калорий?</h2>

          <p>
            Понимание того, сколько калорий ваш организм тратит каждый день, —
            ключ к контролю над своим весом. Формула Харриса-Бенедикта считается
            одной из самых ранних научных методик, которая учитывает пол,
            возраст, вес и рост для определения базового метаболического расхода
            (BMR). Онлайн-калькулятор делает этот процесс простым и доступным
            каждому.
          </p>

          <h3>Что такое BMR?</h3>

          <p>
            BMR — это базовая скорость метаболизма. Это количество калорий,
            которое ваше тело тратит на поддержание жизненно важных функций:
            дыхание, работу сердца, терморегуляцию, мозговую деятельность и
            другие процессы. Даже лежа в кровати весь день, вы всё равно будете
            тратить эти калории.
          </p>

          <h3>Почему стоит использовать формулу Харриса-Бенедикта?</h3>

          <p>
            Эта формула была разработана учеными Фрэнсисом Бенедиктом и Джеймсом
            Харрисом еще в 1919 году. Она стала одной из первых попыток научно
            обоснованного подхода к расчету энергетических затрат. Хотя позже
            появились более точные формулы (например, Миффлина-Сан Жеора),
            Харриса-Бенедикт до сих пор остается популярным благодаря своей
            исторической значимости и практической применимости.
          </p>

          <h3>Как работает калькулятор?</h3>

          <p>
            После ввода данных о себе — возраст, вес, рост и пол — калькулятор
            рассчитывает ваш BMR. Затем он умножает его на коэффициент
            активности:
          </p>

          <ul>
            <li>
              <strong>Минимальная активность:</strong> ×1.2
            </li>
            <li>
              <strong>Легкие тренировки:</strong> ×1.375
            </li>
            <li>
              <strong>Средние нагрузки:</strong> ×1.55
            </li>
            <li>
              <strong>Интенсивные тренировки:</strong> ×1.725
            </li>
            <li>
              <strong>Профессиональный спорт:</strong> ×1.9
            </li>
          </ul>

          <p>
            Результат — это ваша суточная потребность в калориях. От нее можно
            отталкиваться при планировании питания.
          </p>

          <h3>Пример использования</h3>

          <p>Допустим, у вас:</p>

          <ul>
            <li>Вес — 70 кг</li>
            <li>Рост — 170 см</li>
            <li>Возраст — 30 лет</li>
            <li>Пол — мужской</li>
            <li>Активность — средняя (3–5 тренировок в неделю)</li>
          </ul>

          <p>
            Система рассчитывает ваш BMR, а затем умножает его на 1.55.
            Полученное число — ваша норма калорий. Если вы хотите похудеть —
            снижайте её на 10–20%. Если набирать мышечную массу — увеличивайте
            на 10–15%.
          </p>

          <h3>Зачем нужен такой калькулятор?</h3>

          <p>Он помогает:</p>

          <ul>
            <li>
              <strong>Планировать питание:</strong> зная норму, проще составлять
              меню;
            </li>
            <li>
              <strong>Худеть:</strong> создавая дефицит калорий;
            </li>
            <li>
              <strong>Набирать вес:</strong> увеличивая потребление;
            </li>
            <li>
              <strong>Поддерживать форму:</strong> точно зная, сколько нужно
              есть;
            </li>
            <li>
              <strong>Следить за здоровьем:</strong> правильное питание влияет
              на самочувствие и работоспособность.
            </li>
          </ul>

          <h3>Какие факторы влияют на расход калорий?</h3>

          <p>Формула учитывает:</p>

          <ul>
            <li>
              <strong>Возраст:</strong> чем старше — тем медленнее метаболизм;
            </li>
            <li>
              <strong>Пол:</strong> мужчины тратят больше калорий, чем женщины;
            </li>
            <li>
              <strong>Вес:</strong> чем больше масса тела — тем выше BMR;
            </li>
            <li>
              <strong>Рост:</strong> длиннее тело — выше расход энергии;
            </li>
            <li>
              <strong>Активность:</strong> физические движения увеличивают
              потребность в калориях.
            </li>
          </ul>

          <h3>Какие цели можно ставить?</h3>

          <p>После получения результата вы можете выбрать одну из целей:</p>

          <ul>
            <li>
              <strong>Похудение:</strong> уменьшите калорийность на 10–20%;
            </li>
            <li>
              <strong>Поддержание формы:</strong> потребляйте столько же,
              сколько тратите;
            </li>
            <li>
              <strong>Набор массы:</strong> увеличьте калории на 10–15%;
            </li>
            <li>
              <strong>Силовые тренировки:</strong> добавьте белки и углеводы;
            </li>
            <li>
              <strong>Стандартный режим:</strong> используйте калькулятор как
              ориентир.
            </li>
          </ul>

          <h3>Как проверить точность результата?</h3>

          <p>
            Вы можете сравнить результат с другими формулами или использовать
            мобильное приложение для анализа питания. Также можно вести дневник
            питания и следить за изменениями веса в течение недели. Главное —
            правильно ввести исходные данные и быть честным с собой.
          </p>

          <h3>Какие ошибки чаще всего возникают?</h3>

          <p>Распространенные проблемы:</p>

          <ul>
            <li>
              <strong>Неверные данные:</strong> неправильно указанный возраст
              или вес;
            </li>
            <li>
              <strong>Перепутаны уровни активности:</strong> например,
              «умеренный» вместо «высокого»;
            </li>
            <li>
              <strong>Игнорирование целей:</strong> забывают указывать, что
              хотят похудеть или набрать вес;
            </li>
            <li>
              <strong>Ошибка ввода:</strong> буквы вместо цифр, пробелы, запятые
              вместо точек;
            </li>
            <li>
              <strong>Неактуальные данные:</strong> не обновляются после
              изменений веса или образа жизни.
            </li>
          </ul>

          <h3>Какие преимущества у онлайн-калькулятора?</h3>

          <p>Онлайн-инструмент:</p>

          <ul>
            <li>
              <strong>Точный:</strong> использует проверенную формулу;
            </li>
            <li>
              <strong>Мгновенный:</strong> результат готов сразу после ввода
              данных;
            </li>
            <li>
              <strong>Удобный:</strong> понятный интерфейс;
            </li>
            <li>
              <strong>Доступный:</strong> работает на любом устройстве;
            </li>
            <li>
              <strong>Бесплатный:</strong> никаких подписок или ограничений.
            </li>
          </ul>

          <h3>Какие ещё показатели можно рассчитать?</h3>

          <p>Помимо калорий, калькулятор может также помочь найти:</p>

          <ul>
            <li>
              <strong>Базовый метаболизм:</strong> сколько калорий вы тратите в
              покое;
            </li>
            <li>
              <strong>БЖУ:</strong> рекомендации по белкам, жирам и углеводам;
            </li>
            <li>
              <strong>Дневной план:</strong> распределение калорий по приемам
              пищи;
            </li>
            <li>
              <strong>Дефицит калорий:</strong> для контроля потери веса;
            </li>
            <li>
              <strong>Избыток калорий:</strong> если цель — набор мышечной
              массы.
            </li>
          </ul>

          <h3>Какие еще существуют формулы?</h3>

          <p>Кроме Харриса-Бенедикта, популярны:</p>

          <ul>
            <li>
              <strong>Формула Миффлина-Сан Жеора:</strong> более актуальная для
              современных людей;
            </li>
            <li>
              <strong>Формула Кача:</strong> подходит для спортсменов;
            </li>
            <li>
              <strong>Формула Оксфордского университета:</strong> учитывает
              особенности современного образа жизни;
            </li>
            <li>
              <strong>Формула Совина:</strong> часто используется в странах СНГ;
            </li>
            <li>
              <strong>Формула Mifflin-St Jeor:</strong> рекомендуется
              диетологами как наиболее точная.
            </li>
          </ul>

          <h3>Какие советы по использованию?</h3>

          <p>Вот несколько практических рекомендаций:</p>

          <ul>
            <li>
              <strong>Обновляйте данные регулярно:</strong> особенно после
              потери или набора веса;
            </li>
            <li>
              <strong>Учитывайте уровень стресса:</strong> он может повлиять на
              аппетит и метаболизм;
            </li>
            <li>
              <strong>Не завышайте активность:</strong> если тренировки не
              каждый день — выбирайте умеренный уровень;
            </li>
            <li>
              <strong>Добавьте запас:</strong> иногда организм требует больше
              энергии, чем предполагает формула;
            </li>
            <li>
              <strong>Не забывайте о воде:</strong> гидратация влияет на обмен
              веществ.
            </li>
          </ul>

          <h3>Часто задаваемые вопросы</h3>

          <p>
            <strong>1. Можно ли доверять формуле Харриса-Бенедикта?</strong>
          </p>
          <p>
            Да, она была одной из первых научно обоснованных, но сегодня более
            актуальна формула Миффлина-Сан Жеора.
          </p>

          <p>
            <strong>2. Как учитывается пол?</strong>
          </p>
          <p>
            Для мужчин и женщин используются разные коэффициенты, так как у них
            разный уровень мышечной массы и гормональный фон.
          </p>

          <p>
            <strong>3. Что делать, если я не соответствую стандартам?</strong>
          </p>
          <p>
            Учитывайте дополнительные факторы: мышечную массу, болезни, стресс,
            гормоны и другие.
          </p>

          <p>
            <strong>4. Нужно ли учитывать мышечную массу?</strong>
          </p>
          <p>
            Да, чем больше мышц — тем выше метаболизм. Формула Харриса-Бенедикта
            этого не учитывает.
          </p>

          <p>
            <strong>5. Почему формула устарела?</strong>
          </p>
          <p>
            Потому что сейчас люди имеют другую физиологию, образ жизни и
            питание. Однако она все еще используется в учебных и ознакомительных
            целях.
          </p>

          <h3>Интересные факты о формуле Харриса-Бенедикта</h3>

          <p>
            Интересно, что эта формула была разработана почти 100 лет назад и
            основывалась на исследованиях, проведенных на маленькой группе
            людей. Тем не менее, она оказала огромное влияние на развитие науки
            о метаболизме и до сих пор используется многими калькуляторами.
            Сегодня формула Харриса-Бенедикта — скорее исторический инструмент,
            чем актуальный, но ее значение сложно переоценить.
          </p>
          <ul>
            <h3>Какие еще инструменты могут помочь?</h3>
            <li>
              <strong>Калькулятор БЖУ:</strong> поможет распределить белки, жиры
              и углеводы;
            </li>
            <li>
              <strong>Счетчик калорий:</strong> позволяет отслеживать
              потребление;
            </li>
            <li>
              <strong>Приложения для фитнеса:</strong> такие как MyFitnessPal,
              FatSecret, YAZIO;
            </li>
            <li>
              <strong>Фитнес-трекеры:</strong> учитывают активность и расход
              энергии;
            </li>
            <li>
              <strong>Дневник питания:</strong> помогает анализировать привычки
              и корректировать рацион.
            </li>
          </ul>

          <h3>Какие преимущества у формулы Харриса-Бенедикта?</h3>

          <p>Это одна из первых научных формул, которая:</p>

          <ul>
            <li>
              <strong>Учитывает пол:</strong> разница между мужчинами и
              женщинами;
            </li>
            <li>
              <strong>Включает возраст:</strong> замедление метаболизма со
              временем;
            </li>
            <li>
              <strong>Основана на массе и росте:</strong> индивидуальный подход;
            </li>
            <li>
              <strong>Доступна:</strong> легко внедряется в любые программы;
            </li>
            <li>
              <strong>Проста:</strong> не требует сложных данных.
            </li>
          </ul>

          <h3>Какие еще параметры влияют на обмен веществ?</h3>

          <p>Метаболизм зависит от множества факторов:</p>

          <ul>
            <li>
              <strong>Генетика:</strong> у некоторых людей он быстрый от
              природы;
            </li>
            <li>
              <strong>Гормоны:</strong> щитовидная железа, тестостерон,
              эстрадиол;
            </li>
            <li>
              <strong>Температура окружающей среды:</strong> холод увеличивает
              расход;
            </li>
            <li>
              <strong>Сон:</strong> недостаток сна замедляет метаболизм;
            </li>
            <li>
              <strong>Стресс:</strong> повышает уровень кортизола и влияет на
              аппетит.
            </li>
          </ul>

          <h3>Итог</h3>

          <p>
            Формула Харриса-Бенедикта — один из первых шагов в области расчета
            энергетических затрат. Онлайн-калькулятор делает её доступной и
            удобной для широкого круга пользователей. Хотя сегодня есть более
            точные методики, использование этой формулы помогает лучше понять,
            как работает ваш организм. Попробуйте — и вы узнаете, насколько
            важно знать свой метаболизм.
          </p>

          <p>
            <a href="/">Выбрать другой калькулятор</a>
          </p>
        </Contents>
      </TopForm>
      <Footer />
    </>
  );
}

export default Compound;
