"use client";

import React, { useState, useEffect } from "react";
import HeaderModal from "../components/NewModal";
import TopForm from "../components/TopForm";
import Footer from "../components/Footer";
import Contents from "../components/Contents";
import CalorieForm from "./CalorieForm";
import "./stag.css";

function Compound() {
  const [tab, setTab] = useState("long");
  const [value, setValue] = useState(""); // Длина ребра (или длина на вкладке dvh)
  const [width, setWidth] = useState(""); // Ширина
  const [height, setHeight] = useState(""); // Высота
  const [round, setRound] = useState(2);

  const initial = {
    type: tab === "long" ? "edge" : "size",
    a: value, // a берется из значения длины
    b: tab === "long" ? value : width, // b берется из значения длины на вкладке long, иначе из ширины
    c: tab === "long" ? value : height, // c берется из значения длины на вкладке long, иначе из высоты
  };

  const handleTabClick = (tabType) => {
    setTab(tabType);
    if (tabType === "dvh") {
      setValue(""); // Сбрасываем значение длины, если переключаемся на вкладку dvh
    }
  };

  useEffect(() => {
    if (tab === "dvh") {
      setValue(""); // Сбрасываем значение длины на вкладке dvh
    }
  }, [tab]);

  return (
    <>
      <HeaderModal />
      <TopForm
        title={"Калькулятор "}
        description={
          "Узнайте объем куба всего за пару секунд. Введите длину стороны в наш онлайн-калькулятор и получите точное значение объема."
        }
        span={"объема куба"}
      >
        <CalorieForm
          obj={initial}
          url={"https://boxcalculators.ru/api/calculate/volume-cube"}
        >
          <div className="test-input">
            <div className="cube-image-container">
              <img src="/cube2.png" alt="куб" className="cube-image" />
              <span className="w-grey">
                <span className="red"> a</span> - ребро куба,{" "}
                <span className="red">d</span> - диагональ куба,{" "}
                <span className="red">f</span> - диагональ грани
              </span>
            </div>
            <div className="tabs">
              <div className="centered-text">
                <span className="color-grey">Известная величина</span>
              </div>
              <span
                className={tab === "long" ? "active underline" : ""}
                onClick={() => handleTabClick("long")}
              >
                Длина ребра
              </span>
              <span
                className={tab === "dvh" ? "active underline" : ""}
                onClick={() => handleTabClick("dvh")}
              >
                ДxШxВ
              </span>
            </div>

            <div className="content">
              {tab === "long" && (
                <div className="radius">
                  <label className="numrange">
                    <span>
                      Длина ребра,<span className="red"> a</span>
                    </span>
                    <input
                      type="number"
                      className="input"
                      value={value}
                      onChange={(e) => {
                        const inputValue = e.target.value;
                        setValue(inputValue);
                        setWidth(inputValue); // Дублируем значение в ширину
                        setHeight(inputValue); // Дублируем значение в высоту
                      }}
                    />
                  </label>

                  <label className="numrange">
                    <span>Округлять до</span>
                    <select
                      name="round"
                      className="calc-inp"
                      id="round"
                      value={round}
                      onChange={(e) => setRound(e.target.value)}
                    >
                      {[...Array(11).keys()].map((num) => (
                        <option key={num} value={num}>
                          {num}
                        </option>
                      ))}
                    </select>
                  </label>
                </div>
              )}
              {tab === "dvh" && (
                <div className="radius">
                  <span>
                    <span className="w-grey"> Размеры,</span>
                    <span className="red"> (ДxШxВ)</span>
                  </span>
                  <label className="numrange">
                    <span>Длина</span>
                    <input
                      type="number"
                      className="input"
                      value={value} // Здесь длина будет связана со значением
                      onChange={(e) => setValue(e.target.value)} // Длина будет изменяться
                    />
                  </label>
                  <label className="numrange">
                    <span>Ширина</span>
                    <input
                      type="number"
                      className="input"
                      value={width}
                      onChange={(e) => setWidth(e.target.value)} // Ширина сохраняется отдельно
                    />
                  </label>
                  <label className="numrange">
                    <span>Высота</span>
                    <input
                      type="number"
                      className="input"
                      value={height}
                      onChange={(e) => setHeight(e.target.value)} // Высота сохраняется отдельно
                    />
                  </label>
                  <label className="numrange">
                    <span>Округлять до</span>
                    <select
                      name="round"
                      className="calc-inp"
                      id="round"
                      value={round}
                      onChange={(e) => setRound(e.target.value)}
                    >
                      {[...Array(11).keys()].map((num) => (
                        <option key={num} value={num}>
                          {num}
                        </option>
                      ))}
                    </select>
                  </label>
                </div>
              )}
            </div>
          </div>
        </CalorieForm>
        <Contents>
          <h2>Как рассчитать объем куба?</h2>

          <p>
            Куб — это одна из самых знакомых геометрических фигур. Она имеет
            равные стороны, что делает его особенно популярным в образовательных
            материалах, архитектуре и быту. Онлайн-калькулятор объема куба
            помогает определить, сколько внутреннего пространства он может
            вместить или сколько материала понадобится на его изготовление.
          </p>

          <h3>Где используется куб?</h3>

          <p>Форма куба встречается повсюду:</p>

          <ul>
            <li>
              <strong>В образовании:</strong> школьные задачи и уроки
              математики;
            </li>
            <li>
              <strong>В производстве:</strong> создание ящиков, коробок,
              емкостей;
            </li>
            <li>
              <strong>В дизайне:</strong> мебель, светильники, декоративные
              элементы;
            </li>
            <li>
              <strong>В быту:</strong> хранение вещей, упаковка подарков,
              кухонная техника;
            </li>
            <li>
              <strong>В науке:</strong> моделирование объемов и плотности
              веществ.
            </li>
          </ul>

          <h3>Как работает калькулятор?</h3>

          <p>
            Чтобы найти объем куба, достаточно знать длину одной его стороны.
            Остальное сделает калькулятор. Просто введите размер стороны в
            нужных единицах — сантиметрах, метрах или миллиметрах — и система
            сама рассчитает объем. Результат можно использовать для покупки
            материалов, планирования пространства или решения задачи.
          </p>

          <h3>Зачем нужно знать объем куба?</h3>

          <p>Это может быть полезно:</p>

          <ul>
            <li>
              <strong>При ремонте:</strong> например, чтобы узнать, сколько
              краски потребуется на поверхность.
            </li>
            <li>
              <strong>Для транспортировки:</strong> определить, сколько кубов
              вмещается в багажник машины.
            </li>
            <li>
              <strong>На работе:</strong> при проектировании ёмкостей, упаковки,
              конструкций.
            </li>
            <li>
              <strong>В учебе:</strong> школьники и студенты часто сталкиваются
              с такими фигурами.
            </li>
            <li>
              <strong>В хобби:</strong> если вы занимаетесь ландшафтным
              дизайном, рукоделием или моделью.
            </li>
          </ul>

          <h3>Что влияет на точность результата?</h3>

          <p>Чтобы получить правильный объем, важно правильно ввести данные:</p>

          <ul>
            <li>
              <strong>Единицы измерения:</strong> все значения должны быть
              одинаковыми — только в см или только в м.
            </li>
            <li>
              <strong>Точность замера:</strong> используйте линейку, рулетку или
              другие измерительные приборы.
            </li>
            <li>
              <strong>Форма объекта:</strong> если форма немного отличается от
              идеального куба, результат будет приблизительным.
            </li>
            <li>
              <strong>Наличие стенок:</strong> если вы рассчитываете
              вместимость, учтите толщину стен.
            </li>
            <li>
              <strong>Запас:</strong> при покупке веществ или материалов лучше
              закладывать небольшой запас.
            </li>
          </ul>

          <h3>Какие еще параметры можно рассчитать?</h3>

          <p>Помимо объема, калькулятор может помочь найти:</p>

          <ul>
            <li>
              <strong>Площадь поверхности:</strong> общая площадь всех сторон
              куба;
            </li>
            <li>
              <strong>Периметр:</strong> сумма длин всех рёбер;
            </li>
            <li>
              <strong>Вместимость:</strong> сколько жидкости, песка или других
              веществ поместится внутри;
            </li>
            <li>
              <strong>Вес содержимого:</strong> если известна плотность
              вещества;
            </li>
            <li>
              <strong>Стоимость материалов:</strong> если известна цена за литр,
              кубометр или килограмм.
            </li>
          </ul>

          <h3>Как пользоваться калькулятором?</h3>

          <p>Вот как использовать калькулятор объема куба:</p>

          <ol>
            <li>
              <strong>Измерьте сторону куба:</strong> с помощью линейки или
              рулетки.
            </li>
            <li>
              <strong>Выберите единицы измерения:</strong> см, м или мм —
              главное, чтобы они были одинаковые.
            </li>
            <li>
              <strong>Введите число:</strong> только цифру, без лишних символов.
            </li>
            <li>
              <strong>Нажмите «Рассчитать»:</strong> система мгновенно покажет
              результат.
            </li>
            <li>
              <strong>Используйте результат:</strong> сохраните, распечатайте
              или отправьте кому-то.
            </li>
          </ol>

          <h3>Как проверить точность результата?</h3>

          <p>
            Если вы сомневаетесь, можно сравнить результат с другим
            калькулятором или выполнить контрольный расчёт вручную. Также можно
            использовать Excel или мобильный калькулятор для сверки. Главное —
            правильно ввести исходные данные и не перепутать единицы измерения.
          </p>

          <h3>Какие ошибки чаще всего возникают?</h3>

          <p>Самые распространенные проблемы:</p>

          <ul>
            <li>
              <strong>Перепутаны радиус и сторона:</strong> калькулятор требует
              именно длины ребра.
            </li>
            <li>
              <strong>Неправильные единицы:</strong> ввели в метрах, а считалось
              в сантиметрах.
            </li>
            <li>
              <strong>Ошибка ввода:</strong> буквы, пробелы, лишние символы.
            </li>
            <li>
              <strong>Игнорирование формы:</strong> если объект не совсем куб,
              погрешность будет.
            </li>
            <li>
              <strong>Не учтена толщина стен:</strong> особенно важно при оценке
              вместимости.
            </li>
          </ul>

          <h3>Какие ещё фигуры можно рассчитать?</h3>

          <p>Похожие фигуры, которые тоже можно рассчитать:</p>

          <ul>
            <li>
              <strong>Параллелепипед:</strong> прямоугольная коробка, но с
              разными сторонами;
            </li>
            <li>
              <strong>Пирамида:</strong> объём рассчитывается по другой формуле;
            </li>
            <li>
              <strong>Цилиндр:</strong> круглое основание и высота;
            </li>
            <li>
              <strong>Шар:</strong> трехмерная окружность;
            </li>
            <li>
              <strong>Призма:</strong> удлинённый вариант куба.
            </li>
          </ul>

          <h3>Преимущества онлайн-калькулятора</h3>

          <p>Онлайн-калькулятор объема куба предлагает:</p>

          <ul>
            <li>
              <strong>Точность:</strong> алгоритмы учитывают стандартные правила
              геометрии;
            </li>
            <li>
              <strong>Скорость:</strong> результат готов почти мгновенно;
            </li>
            <li>
              <strong>Универсальность:</strong> подходит как для учебы, так и
              для практики;
            </li>
            <li>
              <strong>Доступность:</strong> работает с любого устройства с
              интернетом;
            </li>
            <li>
              <strong>Бесплатность:</strong> никаких подписок или регистрации.
            </li>
          </ul>

          <h3>Какие материалы можно рассчитать через объем?</h3>

          <p>Зная объем куба, вы можете определить:</p>

          <ul>
            <li>
              <strong>Сколько воды поместится в кубический резервуар;</strong>
            </li>
            <li>
              <strong>Сколько бетона нужно для заливки;</strong>
            </li>
            <li>
              <strong>Сколько песка или земли вмещает контейнер;</strong>
            </li>
            <li>
              <strong>Сколько весит заполненный куб;</strong>
            </li>
            <li>
              <strong>Сколько стоит заполнение;</strong> если известна цена за
              объем.
            </li>
          </ul>

          <h3>Как выбрать хороший калькулятор?</h3>

          <p>Хороший калькулятор должен:</p>

          <ul>
            <li>
              <strong>Поддерживать разные единицы:</strong> см, м, мм, дюймы;
            </li>
            <li>
              <strong>Уметь считать разные параметры:</strong> объем, площадь,
              вес;
            </li>
            <li>
              <strong>Иметь четкий интерфейс:</strong> понятный даже детям;
            </li>
            <li>
              <strong>Не требовать денег:</strong> всё бесплатно и доступно;
            </li>
            <li>
              <strong>Быть удобным:</strong> работать быстро и без ошибок.
            </li>
          </ul>

          <h3>Интересные факты о кубах</h3>

          <p>
            Интересно, что куб — одна из самых древних и универсальных фигур.
            Его использовали еще в Древней Греции и Египте. Сегодня куб — важная
            часть математики, физики и даже искусства. Онлайн-калькулятор
            позволяет использовать эту мощную форму для решения практических
            задач.
          </p>

          <h3>Полезные советы по измерению</h3>

          <p>Чтобы результат был максимально точным:</p>

          <ul>
            <li>
              <strong>Измеряйте аккуратно:</strong> используйте точные приборы.
            </li>
            <li>
              <strong>Проверяйте единицы:</strong> не перепутайте см и м.
            </li>
            <li>
              <strong>Не забывайте про запас:</strong> особенно при покупке
              веществ или материалов.
            </li>
            <li>
              <strong>Убедитесь в форме:</strong> если объект не идеальный куб —
              погрешность неизбежна.
            </li>
            <li>
              <strong>Используйте несколько источников:</strong> сверьтесь с
              другими калькуляторами или формулами.
            </li>
          </ul>

          <h3>Часто задаваемые вопросы</h3>

          <p>
            <strong>Можно ли рассчитать объем по внешним размерам?</strong>
          </p>
          <p>
            Да, но тогда внутренний объем будет меньше из-за толщины стенок.
          </p>

          <p>
            <strong>
              Можно ли использовать калькулятор для разных материалов?
            </strong>
          </p>
          <p>
            Да, объем — универсальная величина. Можете использовать его для
            воды, бетона, песка и других веществ.
          </p>

          <p>
            <strong>Как проверить результат?</strong>
          </p>
          <p>
            Сделайте контрольный расчёт вручную или сравните с другими
            калькуляторами.
          </p>

          <h3>Итог</h3>

          <p>
            Расчёт объема куба — важная задача во многих сферах жизни: от учебы
            до строительства. Онлайн-калькулятор делает этот процесс простым и
            понятным даже новичкам. Используйте его, чтобы экономить время, силы
            и деньги.
          </p>

          <p>
            <a href="/">Выбрать другой калькулятор</a>
          </p>
        </Contents>
      </TopForm>
      <Footer />
    </>
  );
}

export default Compound;
